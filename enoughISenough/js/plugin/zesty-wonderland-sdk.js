(() => {
    var xt = Object.create, F = Object.defineProperty; var Et = Object.getOwnPropertyDescriptor; var qt = Object.getOwnPropertyNames; var Ct = Object.getPrototypeOf, St = Object.prototype.hasOwnProperty; var kt = t => F(t, "__esModule", { value: !0 }); var c = (t, e) => () => (e || t((e = { exports: {} }).exports, e), e.exports); var Tt = (t, e, r) => { if (e && typeof e == "object" || typeof e == "function") for (let s of qt(e)) !St.call(t, s) && s !== "default" && F(t, s, { get: () => e[s], enumerable: !(r = Et(e, s)) || r.enumerable }); return t }, oe = t => Tt(kt(F(t != null ? xt(Ct(t)) : {}, "default", t && t.__esModule && "default" in t ? { get: () => t.default, enumerable: !0 } : { value: t, enumerable: !0 })), t); var M = c((Sr, ue) => { "use strict"; ue.exports = function (e, r) { return function () { for (var n = new Array(arguments.length), a = 0; a < n.length; a++)n[a] = arguments[a]; return e.apply(r, n) } } }); var m = c((kr, fe) => { "use strict"; var Ot = M(), w = Object.prototype.toString; function I(t) { return w.call(t) === "[object Array]" } function H(t) { return typeof t == "undefined" } function At(t) { return t !== null && !H(t) && t.constructor !== null && !H(t.constructor) && typeof t.constructor.isBuffer == "function" && t.constructor.isBuffer(t) } function Rt(t) { return w.call(t) === "[object ArrayBuffer]" } function jt(t) { return typeof FormData != "undefined" && t instanceof FormData } function Nt(t) { var e; return typeof ArrayBuffer != "undefined" && ArrayBuffer.isView ? e = ArrayBuffer.isView(t) : e = t && t.buffer && t.buffer instanceof ArrayBuffer, e } function Lt(t) { return typeof t == "string" } function Pt(t) { return typeof t == "number" } function le(t) { return t !== null && typeof t == "object" } function T(t) { if (w.call(t) !== "[object Object]") return !1; var e = Object.getPrototypeOf(t); return e === null || e === Object.prototype } function Ut(t) { return w.call(t) === "[object Date]" } function Bt(t) { return w.call(t) === "[object File]" } function zt(t) { return w.call(t) === "[object Blob]" } function ce(t) { return w.call(t) === "[object Function]" } function Dt(t) { return le(t) && ce(t.pipe) } function Ft(t) { return typeof URLSearchParams != "undefined" && t instanceof URLSearchParams } function Mt(t) { return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "") } function It() { return typeof navigator != "undefined" && (navigator.product === "ReactNative" || navigator.product === "NativeScript" || navigator.product === "NS") ? !1 : typeof window != "undefined" && typeof document != "undefined" } function _(t, e) { if (!(t === null || typeof t == "undefined")) if (typeof t != "object" && (t = [t]), I(t)) for (var r = 0, s = t.length; r < s; r++)e.call(null, t[r], r, t); else for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && e.call(null, t[n], n, t) } function W() { var t = {}; function e(n, a) { T(t[a]) && T(n) ? t[a] = W(t[a], n) : T(n) ? t[a] = W({}, n) : I(n) ? t[a] = n.slice() : t[a] = n } for (var r = 0, s = arguments.length; r < s; r++)_(arguments[r], e); return t } function Ht(t, e, r) { return _(e, function (n, a) { r && typeof n == "function" ? t[a] = Ot(n, r) : t[a] = n }), t } function _t(t) { return t.charCodeAt(0) === 65279 && (t = t.slice(1)), t } fe.exports = { isArray: I, isArrayBuffer: Rt, isBuffer: At, isFormData: jt, isArrayBufferView: Nt, isString: Lt, isNumber: Pt, isObject: le, isPlainObject: T, isUndefined: H, isDate: Ut, isFile: Bt, isBlob: zt, isFunction: ce, isStream: Dt, isURLSearchParams: Ft, isStandardBrowserEnv: It, forEach: _, merge: W, extend: Ht, trim: Mt, stripBOM: _t } }); var J = c((Tr, de) => { "use strict"; var E = m(); function pe(t) { return encodeURIComponent(t).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]") } de.exports = function (e, r, s) { if (!r) return e; var n; if (s) n = s(r); else if (E.isURLSearchParams(r)) n = r.toString(); else { var a = []; E.forEach(r, function (i, y) { i === null || typeof i == "undefined" || (E.isArray(i) ? y = y + "[]" : i = [i], E.forEach(i, function (p) { E.isDate(p) ? p = p.toISOString() : E.isObject(p) && (p = JSON.stringify(p)), a.push(pe(y) + "=" + pe(p)) })) }), n = a.join("&") } if (n) { var o = e.indexOf("#"); o !== -1 && (e = e.slice(0, o)), e += (e.indexOf("?") === -1 ? "?" : "&") + n } return e } }); var me = c((Or, he) => { "use strict"; var Wt = m(); function O() { this.handlers = [] } O.prototype.use = function (e, r, s) { return this.handlers.push({ fulfilled: e, rejected: r, synchronous: s ? s.synchronous : !1, runWhen: s ? s.runWhen : null }), this.handlers.length - 1 }; O.prototype.eject = function (e) { this.handlers[e] && (this.handlers[e] = null) }; O.prototype.forEach = function (e) { Wt.forEach(this.handlers, function (s) { s !== null && e(s) }) }; he.exports = O }); var be = c((Ar, ye) => { "use strict"; var Jt = m(); ye.exports = function (e, r) { Jt.forEach(e, function (n, a) { a !== r && a.toUpperCase() === r.toUpperCase() && (e[r] = n, delete e[a]) }) } }); var K = c((Rr, ve) => { "use strict"; ve.exports = function (e, r, s, n, a) { return e.config = r, s && (e.code = s), e.request = n, e.response = a, e.isAxiosError = !0, e.toJSON = function () { return { message: this.message, name: this.name, description: this.description, number: this.number, fileName: this.fileName, lineNumber: this.lineNumber, columnNumber: this.columnNumber, stack: this.stack, config: this.config, code: this.code } }, e } }); var $ = c((jr, ge) => { "use strict"; var Kt = K(); ge.exports = function (e, r, s, n, a) { var o = new Error(e); return Kt(o, r, s, n, a) } }); var xe = c((Nr, we) => { "use strict"; var $t = $(); we.exports = function (e, r, s) { var n = s.config.validateStatus; !s.status || !n || n(s.status) ? e(s) : r($t("Request failed with status code " + s.status, s.config, null, s.request, s)) } }); var qe = c((Lr, Ee) => { "use strict"; var A = m(); Ee.exports = A.isStandardBrowserEnv() ? function () { return { write: function (r, s, n, a, o, u) { var i = []; i.push(r + "=" + encodeURIComponent(s)), A.isNumber(n) && i.push("expires=" + new Date(n).toGMTString()), A.isString(a) && i.push("path=" + a), A.isString(o) && i.push("domain=" + o), u === !0 && i.push("secure"), document.cookie = i.join("; ") }, read: function (r) { var s = document.cookie.match(new RegExp("(^|;\\s*)(" + r + ")=([^;]*)")); return s ? decodeURIComponent(s[3]) : null }, remove: function (r) { this.write(r, "", Date.now() - 864e5) } } }() : function () { return { write: function () { }, read: function () { return null }, remove: function () { } } }() }); var Se = c((Pr, Ce) => { "use strict"; Ce.exports = function (e) { return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e) } }); var Te = c((Ur, ke) => { "use strict"; ke.exports = function (e, r) { return r ? e.replace(/\/+$/, "") + "/" + r.replace(/^\/+/, "") : e } }); var Ae = c((Br, Oe) => { "use strict"; var Vt = Se(), Xt = Te(); Oe.exports = function (e, r) { return e && !Vt(r) ? Xt(e, r) : r } }); var je = c((zr, Re) => {
        "use strict"; var V = m(), Gt = ["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"]; Re.exports = function (e) {
            var r = {}, s, n, a; return e && V.forEach(e.split(`
`), function (u) { if (a = u.indexOf(":"), s = V.trim(u.substr(0, a)).toLowerCase(), n = V.trim(u.substr(a + 1)), s) { if (r[s] && Gt.indexOf(s) >= 0) return; s === "set-cookie" ? r[s] = (r[s] ? r[s] : []).concat([n]) : r[s] = r[s] ? r[s] + ", " + n : n } }), r
        }
    }); var Pe = c((Dr, Le) => { "use strict"; var Ne = m(); Le.exports = Ne.isStandardBrowserEnv() ? function () { var e = /(msie|trident)/i.test(navigator.userAgent), r = document.createElement("a"), s; function n(a) { var o = a; return e && (r.setAttribute("href", o), o = r.href), r.setAttribute("href", o), { href: r.href, protocol: r.protocol ? r.protocol.replace(/:$/, "") : "", host: r.host, search: r.search ? r.search.replace(/^\?/, "") : "", hash: r.hash ? r.hash.replace(/^#/, "") : "", hostname: r.hostname, port: r.port, pathname: r.pathname.charAt(0) === "/" ? r.pathname : "/" + r.pathname } } return s = n(window.location.href), function (o) { var u = Ne.isString(o) ? n(o) : o; return u.protocol === s.protocol && u.host === s.host } }() : function () { return function () { return !0 } }() }); var G = c((Fr, Ue) => { "use strict"; var R = m(), Qt = xe(), Zt = qe(), Yt = J(), er = Ae(), tr = je(), rr = Pe(), X = $(); Ue.exports = function (e) { return new Promise(function (s, n) { var a = e.data, o = e.headers, u = e.responseType; R.isFormData(a) && delete o["Content-Type"]; var i = new XMLHttpRequest; if (e.auth) { var y = e.auth.username || "", x = e.auth.password ? unescape(encodeURIComponent(e.auth.password)) : ""; o.Authorization = "Basic " + btoa(y + ":" + x) } var p = er(e.baseURL, e.url); i.open(e.method.toUpperCase(), Yt(p, e.params, e.paramsSerializer), !0), i.timeout = e.timeout; function f() { if (!!i) { var g = "getAllResponseHeaders" in i ? tr(i.getAllResponseHeaders()) : null, v = !u || u === "text" || u === "json" ? i.responseText : i.response, S = { data: v, status: i.status, statusText: i.statusText, headers: g, config: e, request: i }; Qt(s, n, S), i = null } } if ("onloadend" in i ? i.onloadend = f : i.onreadystatechange = function () { !i || i.readyState !== 4 || i.status === 0 && !(i.responseURL && i.responseURL.indexOf("file:") === 0) || setTimeout(f) }, i.onabort = function () { !i || (n(X("Request aborted", e, "ECONNABORTED", i)), i = null) }, i.onerror = function () { n(X("Network Error", e, null, i)), i = null }, i.ontimeout = function () { var v = "timeout of " + e.timeout + "ms exceeded"; e.timeoutErrorMessage && (v = e.timeoutErrorMessage), n(X(v, e, e.transitional && e.transitional.clarifyTimeoutError ? "ETIMEDOUT" : "ECONNABORTED", i)), i = null }, R.isStandardBrowserEnv()) { var l = (e.withCredentials || rr(p)) && e.xsrfCookieName ? Zt.read(e.xsrfCookieName) : void 0; l && (o[e.xsrfHeaderName] = l) } "setRequestHeader" in i && R.forEach(o, function (v, S) { typeof a == "undefined" && S.toLowerCase() === "content-type" ? delete o[S] : i.setRequestHeader(S, v) }), R.isUndefined(e.withCredentials) || (i.withCredentials = !!e.withCredentials), u && u !== "json" && (i.responseType = e.responseType), typeof e.onDownloadProgress == "function" && i.addEventListener("progress", e.onDownloadProgress), typeof e.onUploadProgress == "function" && i.upload && i.upload.addEventListener("progress", e.onUploadProgress), e.cancelToken && e.cancelToken.promise.then(function (v) { !i || (i.abort(), n(v), i = null) }), a || (a = null), i.send(a) }) } }); var N = c((Mr, De) => { "use strict"; var d = m(), Be = be(), sr = K(), nr = { "Content-Type": "application/x-www-form-urlencoded" }; function ze(t, e) { !d.isUndefined(t) && d.isUndefined(t["Content-Type"]) && (t["Content-Type"] = e) } function ir() { var t; return typeof XMLHttpRequest != "undefined" ? t = G() : typeof process != "undefined" && Object.prototype.toString.call(process) === "[object process]" && (t = G()), t } function ar(t, e, r) { if (d.isString(t)) try { return (e || JSON.parse)(t), d.trim(t) } catch (s) { if (s.name !== "SyntaxError") throw s } return (r || JSON.stringify)(t) } var j = { transitional: { silentJSONParsing: !0, forcedJSONParsing: !0, clarifyTimeoutError: !1 }, adapter: ir(), transformRequest: [function (e, r) { return Be(r, "Accept"), Be(r, "Content-Type"), d.isFormData(e) || d.isArrayBuffer(e) || d.isBuffer(e) || d.isStream(e) || d.isFile(e) || d.isBlob(e) ? e : d.isArrayBufferView(e) ? e.buffer : d.isURLSearchParams(e) ? (ze(r, "application/x-www-form-urlencoded;charset=utf-8"), e.toString()) : d.isObject(e) || r && r["Content-Type"] === "application/json" ? (ze(r, "application/json"), ar(e)) : e }], transformResponse: [function (e) { var r = this.transitional, s = r && r.silentJSONParsing, n = r && r.forcedJSONParsing, a = !s && this.responseType === "json"; if (a || n && d.isString(e) && e.length) try { return JSON.parse(e) } catch (o) { if (a) throw o.name === "SyntaxError" ? sr(o, this, "E_JSON_PARSE") : o } return e }], timeout: 0, xsrfCookieName: "XSRF-TOKEN", xsrfHeaderName: "X-XSRF-TOKEN", maxContentLength: -1, maxBodyLength: -1, validateStatus: function (e) { return e >= 200 && e < 300 } }; j.headers = { common: { Accept: "application/json, text/plain, */*" } }; d.forEach(["delete", "get", "head"], function (e) { j.headers[e] = {} }); d.forEach(["post", "put", "patch"], function (e) { j.headers[e] = d.merge(nr) }); De.exports = j }); var Me = c((Ir, Fe) => { "use strict"; var or = m(), ur = N(); Fe.exports = function (e, r, s) { var n = this || ur; return or.forEach(s, function (o) { e = o.call(n, e, r) }), e } }); var Q = c((Hr, Ie) => { "use strict"; Ie.exports = function (e) { return !!(e && e.__CANCEL__) } }); var We = c((_r, _e) => { "use strict"; var He = m(), Z = Me(), lr = Q(), cr = N(); function Y(t) { t.cancelToken && t.cancelToken.throwIfRequested() } _e.exports = function (e) { Y(e), e.headers = e.headers || {}, e.data = Z.call(e, e.data, e.headers, e.transformRequest), e.headers = He.merge(e.headers.common || {}, e.headers[e.method] || {}, e.headers), He.forEach(["delete", "get", "head", "post", "put", "patch", "common"], function (n) { delete e.headers[n] }); var r = e.adapter || cr.adapter; return r(e).then(function (n) { return Y(e), n.data = Z.call(e, n.data, n.headers, e.transformResponse), n }, function (n) { return lr(n) || (Y(e), n && n.response && (n.response.data = Z.call(e, n.response.data, n.response.headers, e.transformResponse))), Promise.reject(n) }) } }); var ee = c((Wr, Je) => { "use strict"; var h = m(); Je.exports = function (e, r) { r = r || {}; var s = {}, n = ["url", "method", "data"], a = ["headers", "auth", "proxy", "params"], o = ["baseURL", "transformRequest", "transformResponse", "paramsSerializer", "timeout", "timeoutMessage", "withCredentials", "adapter", "responseType", "xsrfCookieName", "xsrfHeaderName", "onUploadProgress", "onDownloadProgress", "decompress", "maxContentLength", "maxBodyLength", "maxRedirects", "transport", "httpAgent", "httpsAgent", "cancelToken", "socketPath", "responseEncoding"], u = ["validateStatus"]; function i(f, l) { return h.isPlainObject(f) && h.isPlainObject(l) ? h.merge(f, l) : h.isPlainObject(l) ? h.merge({}, l) : h.isArray(l) ? l.slice() : l } function y(f) { h.isUndefined(r[f]) ? h.isUndefined(e[f]) || (s[f] = i(void 0, e[f])) : s[f] = i(e[f], r[f]) } h.forEach(n, function (l) { h.isUndefined(r[l]) || (s[l] = i(void 0, r[l])) }), h.forEach(a, y), h.forEach(o, function (l) { h.isUndefined(r[l]) ? h.isUndefined(e[l]) || (s[l] = i(void 0, e[l])) : s[l] = i(void 0, r[l]) }), h.forEach(u, function (l) { l in r ? s[l] = i(e[l], r[l]) : l in e && (s[l] = i(void 0, e[l])) }); var x = n.concat(a).concat(o).concat(u), p = Object.keys(e).concat(Object.keys(r)).filter(function (l) { return x.indexOf(l) === -1 }); return h.forEach(p, y), s } }); var Ke = c((Jr, fr) => { fr.exports = { name: "axios", version: "0.21.4", description: "Promise based HTTP client for the browser and node.js", main: "index.js", scripts: { test: "grunt test", start: "node ./sandbox/server.js", build: "NODE_ENV=production grunt build", preversion: "npm test", version: "npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json", postversion: "git push && git push --tags", examples: "node ./examples/server.js", coveralls: "cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js", fix: "eslint --fix lib/**/*.js" }, repository: { type: "git", url: "https://github.com/axios/axios.git" }, keywords: ["xhr", "http", "ajax", "promise", "node"], author: "Matt Zabriskie", license: "MIT", bugs: { url: "https://github.com/axios/axios/issues" }, homepage: "https://axios-http.com", devDependencies: { coveralls: "^3.0.0", "es6-promise": "^4.2.4", grunt: "^1.3.0", "grunt-banner": "^0.6.0", "grunt-cli": "^1.2.0", "grunt-contrib-clean": "^1.1.0", "grunt-contrib-watch": "^1.0.0", "grunt-eslint": "^23.0.0", "grunt-karma": "^4.0.0", "grunt-mocha-test": "^0.13.3", "grunt-ts": "^6.0.0-beta.19", "grunt-webpack": "^4.0.2", "istanbul-instrumenter-loader": "^1.0.0", "jasmine-core": "^2.4.1", karma: "^6.3.2", "karma-chrome-launcher": "^3.1.0", "karma-firefox-launcher": "^2.1.0", "karma-jasmine": "^1.1.1", "karma-jasmine-ajax": "^0.1.13", "karma-safari-launcher": "^1.0.0", "karma-sauce-launcher": "^4.3.6", "karma-sinon": "^1.0.5", "karma-sourcemap-loader": "^0.3.8", "karma-webpack": "^4.0.2", "load-grunt-tasks": "^3.5.2", minimist: "^1.2.0", mocha: "^8.2.1", sinon: "^4.5.0", "terser-webpack-plugin": "^4.2.3", typescript: "^4.0.5", "url-search-params": "^0.10.0", webpack: "^4.44.2", "webpack-dev-server": "^3.11.0" }, browser: { "./lib/adapters/http.js": "./lib/adapters/xhr.js" }, jsdelivr: "dist/axios.min.js", unpkg: "dist/axios.min.js", typings: "./index.d.ts", dependencies: { "follow-redirects": "^1.14.0" }, bundlesize: [{ path: "./dist/axios.min.js", threshold: "5kB" }] } }); var Qe = c((Kr, Ge) => { "use strict"; var $e = Ke(), te = {};["object", "boolean", "number", "function", "string", "symbol"].forEach(function (t, e) { te[t] = function (s) { return typeof s === t || "a" + (e < 1 ? "n " : " ") + t } }); var Ve = {}, pr = $e.version.split("."); function Xe(t, e) { for (var r = e ? e.split(".") : pr, s = t.split("."), n = 0; n < 3; n++) { if (r[n] > s[n]) return !0; if (r[n] < s[n]) return !1 } return !1 } te.transitional = function (e, r, s) { var n = r && Xe(r); function a(o, u) { return "[Axios v" + $e.version + "] Transitional option '" + o + "'" + u + (s ? ". " + s : "") } return function (o, u, i) { if (e === !1) throw new Error(a(u, " has been removed in " + r)); return n && !Ve[u] && (Ve[u] = !0, console.warn(a(u, " has been deprecated since v" + r + " and will be removed in the near future"))), e ? e(o, u, i) : !0 } }; function dr(t, e, r) { if (typeof t != "object") throw new TypeError("options must be an object"); for (var s = Object.keys(t), n = s.length; n-- > 0;) { var a = s[n], o = e[a]; if (o) { var u = t[a], i = u === void 0 || o(u, a, t); if (i !== !0) throw new TypeError("option " + a + " must be " + i); continue } if (r !== !0) throw Error("Unknown option " + a) } } Ge.exports = { isOlderVersion: Xe, assertOptions: dr, validators: te } }); var st = c(($r, rt) => { "use strict"; var Ze = m(), hr = J(), Ye = me(), et = We(), L = ee(), tt = Qe(), q = tt.validators; function k(t) { this.defaults = t, this.interceptors = { request: new Ye, response: new Ye } } k.prototype.request = function (e) { typeof e == "string" ? (e = arguments[1] || {}, e.url = arguments[0]) : e = e || {}, e = L(this.defaults, e), e.method ? e.method = e.method.toLowerCase() : this.defaults.method ? e.method = this.defaults.method.toLowerCase() : e.method = "get"; var r = e.transitional; r !== void 0 && tt.assertOptions(r, { silentJSONParsing: q.transitional(q.boolean, "1.0.0"), forcedJSONParsing: q.transitional(q.boolean, "1.0.0"), clarifyTimeoutError: q.transitional(q.boolean, "1.0.0") }, !1); var s = [], n = !0; this.interceptors.request.forEach(function (f) { typeof f.runWhen == "function" && f.runWhen(e) === !1 || (n = n && f.synchronous, s.unshift(f.fulfilled, f.rejected)) }); var a = []; this.interceptors.response.forEach(function (f) { a.push(f.fulfilled, f.rejected) }); var o; if (!n) { var u = [et, void 0]; for (Array.prototype.unshift.apply(u, s), u = u.concat(a), o = Promise.resolve(e); u.length;)o = o.then(u.shift(), u.shift()); return o } for (var i = e; s.length;) { var y = s.shift(), x = s.shift(); try { i = y(i) } catch (p) { x(p); break } } try { o = et(i) } catch (p) { return Promise.reject(p) } for (; a.length;)o = o.then(a.shift(), a.shift()); return o }; k.prototype.getUri = function (e) { return e = L(this.defaults, e), hr(e.url, e.params, e.paramsSerializer).replace(/^\?/, "") }; Ze.forEach(["delete", "get", "head", "options"], function (e) { k.prototype[e] = function (r, s) { return this.request(L(s || {}, { method: e, url: r, data: (s || {}).data })) } }); Ze.forEach(["post", "put", "patch"], function (e) { k.prototype[e] = function (r, s, n) { return this.request(L(n || {}, { method: e, url: r, data: s })) } }); rt.exports = k }); var se = c((Vr, nt) => { "use strict"; function re(t) { this.message = t } re.prototype.toString = function () { return "Cancel" + (this.message ? ": " + this.message : "") }; re.prototype.__CANCEL__ = !0; nt.exports = re }); var at = c((Xr, it) => { "use strict"; var mr = se(); function P(t) { if (typeof t != "function") throw new TypeError("executor must be a function."); var e; this.promise = new Promise(function (n) { e = n }); var r = this; t(function (n) { r.reason || (r.reason = new mr(n), e(r.reason)) }) } P.prototype.throwIfRequested = function () { if (this.reason) throw this.reason }; P.source = function () { var e, r = new P(function (n) { e = n }); return { token: r, cancel: e } }; it.exports = P }); var ut = c((Gr, ot) => { "use strict"; ot.exports = function (e) { return function (s) { return e.apply(null, s) } } }); var ct = c((Qr, lt) => { "use strict"; lt.exports = function (e) { return typeof e == "object" && e.isAxiosError === !0 } }); var dt = c((Zr, ne) => { "use strict"; var ft = m(), yr = M(), U = st(), br = ee(), vr = N(); function pt(t) { var e = new U(t), r = yr(U.prototype.request, e); return ft.extend(r, U.prototype, e), ft.extend(r, e), r } var b = pt(vr); b.Axios = U; b.create = function (e) { return pt(br(b.defaults, e)) }; b.Cancel = se(); b.CancelToken = at(); b.isCancel = Q(); b.all = function (e) { return Promise.all(e) }; b.spread = ut(); b.isAxiosError = ct(); ne.exports = b; ne.exports.default = b }); var ie = c((Yr, ht) => { ht.exports = dt() }); var D = oe(ie()); var C = { tall: { width: .75, height: 1, style: { standard: "https://ipfs.io/ipns/lib.zesty.market/assets/zesty-banner-tall.png", minimal: "https://ipfs.io/ipns/lib.zesty.market/assets/zesty-banner-tall-minimal.png", transparent: "https://ipfs.io/ipns/lib.zesty.market/assets/zesty-banner-tall-transparent.png" } }, wide: { width: 4, height: 1, style: { standard: "https://ipfs.io/ipns/lib.zesty.market/assets/zesty-banner-wide.png", minimal: "https://ipfs.io/ipns/lib.zesty.market/assets/zesty-banner-wide-minimal.png", transparent: "https://ipfs.io/ipns/lib.zesty.market/assets/zesty-banner-wide-transparent.png" } }, square: { width: 1, height: 1, style: { standard: "https://ipfs.io/ipns/lib.zesty.market/assets/zesty-banner-square.png", minimal: "https://ipfs.io/ipns/lib.zesty.market/assets/zesty-banner-square-minimal.png", transparent: "https://ipfs.io/ipns/lib.zesty.market/assets/zesty-banner-square-transparent.png" } } }, B = "square", mt = "standard"; var yt = oe(ie()), z = t => { if (t.substring(0, 4) === "ipfs") return `https://ipfs.zesty.market/ipfs/${t.substring(7)}`; if (t.substring(0, 4) === "http") return t; if (t.substring(0, 5) === "https") return t; if (t.substring(0, 2) === "ar") yt.default.get(`https://arweave.net/${t.substring(5)}`).then(e => e.url).catch(e => { console.error(e) }); else return `https://ipfs.zesty.market/ipfs/${t}` }, gr = () => window.XRHand != null && window.XRMediaBinding != null, bt = t => {
        !t || gr() && t.includes("https://www.oculus.com/experiences/quest/") && !window.confirm(`This link leads to an app in the Oculus Store.
 Proceed?`) || window.open(t, "_blank")
    }; var wr = "https://beacon.zesty.market", xr = { matic: "https://api.thegraph.com/subgraphs/name/zestymarket/zesty-market-graph-matic", polygon: "https://api.thegraph.com/subgraphs/name/zestymarket/zesty-market-graph-matic", rinkeby: "https://api.thegraph.com/subgraphs/name/zestymarket/zesty-market-graph-rinkeby" }, ae = { uri: void 0 }, Er = { name: "Default banner", description: "This is the default banner that would be displayed ipsum", image: "https://ipfs.zesty.market/ipfs/QmWBNfP8roDrwz3XQo4qpu9fMxvUSTn8LB7d4JK7ybrfZ2/assets/zesty-ad-square.png", url: "https://www.zesty.market" }, vt = async (t, e, r = "polygon") => {
        let s = Math.floor(Date.now() / 1e3); return D.default.post(xr[r], {
            query: `
      query {
        tokenDatas (
          where: {
            id: "${t}"
            creator: "${e}"
          }
        )
        { 
          sellerNFTSetting {
            sellerAuctions (
              first: 5
              where: {
                contractTimeStart_lte: ${s}
                contractTimeEnd_gte: ${s}
                cancelled: false
              }
            ) {
              id
              buyerCampaigns {
                id
                uri
              }
              buyerCampaignsApproved
            }
          }
          id
        }
      }
    `}).then(n => qr(n)).catch(n => (console.log(n), ae))
    }, qr = t => { if (t.status != 200) return ae; let r = t.data.data.tokenDatas[0]?.sellerNFTSetting?.sellerAuctions?.find((s, n) => { if (s.buyerCampaigns.length > 0 && s.buyerCampaignsApproved[n]) return s })?.buyerCampaigns[0]; return r ?? ae }, gt = async (t, e, r) => { if (!t) { let s = { uri: "DEFAULT_URI", data: Er }, n = e || B, a = r || mt; return s.data.image = C[n].style[a], s } return D.default.get(z(t)).then(s => s.status == 200 ? { uri: t, data: s.data } : null) }, wt = async t => { try { let e = wr + `/api/v1/space/${t}`; await D.default.put(e) } catch (e) { console.log("Failed to emit onload event", e.message) } }; WL.registerComponent("zesty-banner", { creator: { type: WL.Type.String }, space: { type: WL.Type.Int }, network: { type: WL.Type.Enum, values: ["rinkeby", "polygon"], default: "polygon" }, format: { type: WL.Type.Enum, values: Object.keys(C), default: B }, style: { type: WL.Type.Enum, values: ["standard", "minimal", "transparent"], default: "transparent" }, scaleToRatio: { type: WL.Type.Bool, default: !0 }, textureProperty: { type: WL.Type.String, default: "auto" }, beacon: { type: WL.Type.Bool, default: !1 } }, { init: function () { this.formats = Object.values(C), this.formatKeys = Object.keys(C), this.styleKeys = ["standard", "minimal", "transparent"] }, start: function () { if (this.mesh = this.object.getComponent("mesh"), !this.mesh) throw new Error("'zesty-banner ' missing mesh component"); this.collision = this.object.getComponent("collision") || this.object.addComponent("collision", { collider: WL.Collider.Box, group: 2 }), this.cursorTarget = this.object.getComponent("cursor-target") || this.object.addComponent("cursor-target"), this.cursorTarget.addClickFunction(this.onClick.bind(this)), this.loadBanner(this.space, this.creator, this.network, this.formatKeys[this.format], this.styleKeys[this.style]).then(t => { this.banner = t, this.scaleToRatio && (this.height = this.object.scalingLocal[1], this.object.resetScaling(), this.collision.extents = [this.formats[this.format].width * this.height, this.height, .1], this.object.scale([this.formats[this.format].width * this.height, this.height, 1])); let e = this.mesh.material.clone(); if (this.textureProperty === "auto") { let r = e.pipeline || e.shader; if (r === "Phong Opaque Textured") e.diffuseTexture = t.texture, e.alphaMaskThreshold = .3; else if (r === "Flat Opaque Textured") e.flatTexture = t.texture, e.alphaMaskThreshold = .8; else throw Error("'zesty-banner ' unable to apply banner texture: unsupported pipeline " + e.shader); this.mesh.material = e } else this.mesh.material[this.textureProperty] = t.texture; this.beacon && wt(this.space) }) }, onClick: function () { this.banner.url && (WL.xrSession ? WL.xrSession.end().then(this.executeClick.bind(this)) : this.executeClick()) }, executeClick: function () { bt(this.banner.url) }, loadBanner: async function (t, e, r, s, n) { r = r ? "polygon" : "rinkeby"; let a = await vt(t, e, r), o = await gt(a.uri, s, n), u = o.data.url; u = u.match(/^http[s]?:\/\//) ? u : "https://" + u, u === "https://www.zesty.market" && (u = `https://app.zesty.market/space/${t}`); let i = o.data.image; return i = i.match(/^.+\.(png|jpe?g)/i) ? i : z(i), WL.textures.load(i, "").then(y => (o.texture = y, o.imageSrc = i, o.url = u, o)) } });
})();
//# sourceMappingURL=zesty-wonderland-sdk.js.map
